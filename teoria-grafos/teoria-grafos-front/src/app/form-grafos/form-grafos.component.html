<p-toast
  class="w-2rem"
  position="top-right"
  [showTransformOptions]="'translateY(100%)'"
  [showTransitionOptions]="'500ms'"
  [hideTransitionOptions]="'1000ms'"
  [showTransformOptions]="'translateX(100%)'"
  styleClass="toast-style-class"
></p-toast>

<div class="mt-3 ml-3 card flex flex-row flex-wrap gap-3">
  <div class="m-3 ml-6">
    <p-autoComplete
      #autocompleteatual
      [(ngModel)]="optionAtual"
      [suggestions]="suggestionsAtual"
      (completeMethod)="searchAtual($event)"
      [disabled]="optAtuDisabled"
      [size]="35"
      [delay]="500"
      field="label"
      placeholder="Local atual"
    ></p-autoComplete>
  </div>

  <div class="m-3 ml-6">
    <p-autoComplete
      #autocompletedestino
      [(ngModel)]="optionDestino"
      [suggestions]="suggestionsDestino"
      (completeMethod)="searchDestino($event)"
      [disabled]="optDestDisabled"
      [size]="35"
      [delay]="500"
      field="label"
      placeholder="Local de destino"
    ></p-autoComplete>
  </div>

  <div class="w-10rem m-3 ml-6">
    <p-button
      label="Buscar melhor rota"
      (onClick)="onClick()"
      [disabled]="getDisableButton()"
    ></p-button>
  </div>
</div>

<div class="mt-3 ml-3 card flex flex-wrap gap-8">
  <div class="m-3">
    <p-autoComplete
      [(ngModel)]="optionsAll"
      [suggestions]="suggestionsAll"
      (completeMethod)="searchMatrixAutocomplete($event)"
      [multiple]="true"
      [size]="35"
      [delay]="500"
      field="label"
      placeholder="Locais"
    ></p-autoComplete>
  </div>

  <div class="w-10rem m-3">
    <div class="flex flex-nowrap">
      <input
        type="text"
        pInputText
        [style]="{ width: '13rem' }"
        [(ngModel)]="optionCategoriaProfile.label"
        [disabled]="true"
      />
      <p-button
        type="button"
        class="mr-2"
        [style]="{ width: '2rem' }"
        (click)="isShowDropdown = !isShowDropdown"
        icon="pi pi-angle-down"
      ></p-button>
    </div>
    <p-listbox
      *ngIf="isShowDropdown"
      [options]="suggestionsCategoriaProfile"
      [(ngModel)]="optionCategoriaProfile"
      optionLabel="label"
      [style]="{ width: '15rem' }"
      [listStyle]="{ 'max-height': '220px' }"
    ></p-listbox>
  </div>

  <div class="w-10rem m-3">
    <p-button
      label="Buscar rotas"
      (onClick)="searchMatrix()"
      [pTooltip]="
        (optionsAll?.length ?? 0) < 2
          ? 'Ã‰ preciso selecionar pelo menos dois locais'
          : ''
      "
      [disabled]="(optionsAll?.length ?? 0) < 2"
    ></p-button>
  </div>
</div>

<div
  *ngIf="!!grafo.length"
  class="card flex justify-content-center"
  [ngStyle]="{ 'max-width': '1900px' }"
>
  <p-organizationChart [value]="grafo"></p-organizationChart>
</div>

<p>{{ teste | json }}</p>
